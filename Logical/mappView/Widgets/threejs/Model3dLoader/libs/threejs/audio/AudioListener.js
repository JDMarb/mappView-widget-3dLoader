/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../math/Vector3","../math/Quaternion","../core/Clock","../core/Object3D","./AudioContext"],(function(t,e,i,n,o,r,a){"use strict";var s=new i.Vector3,l=new n.Quaternion,c=new i.Vector3,u=new i.Vector3,h=function(t){function i(){var e;return(e=t.call(this)||this).type="AudioListener",e.context=a.AudioContext.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new o.Clock,e}e.inheritsLoose(i,t);var n=i.prototype;return n.getInput=function(){return this.gain},n.removeFilter=function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},n.getFilter=function(){return this.filter},n.setFilter=function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},n.getMasterVolume=function(){return this.gain.gain.value},n.setMasterVolume=function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},n.updateMatrixWorld=function(e){t.prototype.updateMatrixWorld.call(this,e);var i=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(s,l,c),u.set(0,0,-1).applyQuaternion(l),i.positionX){var o=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(s.x,o),i.positionY.linearRampToValueAtTime(s.y,o),i.positionZ.linearRampToValueAtTime(s.z,o),i.forwardX.linearRampToValueAtTime(u.x,o),i.forwardY.linearRampToValueAtTime(u.y,o),i.forwardZ.linearRampToValueAtTime(u.z,o),i.upX.linearRampToValueAtTime(n.x,o),i.upY.linearRampToValueAtTime(n.y,o),i.upZ.linearRampToValueAtTime(n.z,o)}else i.setPosition(s.x,s.y,s.z),i.setOrientation(u.x,u.y,u.z,n.x,n.y,n.z)},i}(r.Object3D);t.AudioListener=h,Object.defineProperty(t,"__esModule",{value:!0})}));
