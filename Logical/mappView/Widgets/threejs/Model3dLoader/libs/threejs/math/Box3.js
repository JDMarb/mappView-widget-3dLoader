/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","./Vector3"],(function(t,i){"use strict";var n=function(){function t(t,n){void 0===t&&(t=new i.Vector3(1/0,1/0,1/0)),void 0===n&&(n=new i.Vector3(-1/0,-1/0,-1/0)),this.isBox3=!0,this.min=t,this.max=n}var n=t.prototype;return n.set=function(t,i){return this.min.copy(t),this.max.copy(i),this},n.setFromArray=function(t){for(var i=1/0,n=1/0,s=1/0,e=-1/0,r=-1/0,a=-1/0,m=0,o=t.length;m<o;m+=3){var h=t[m],x=t[m+1],c=t[m+2];h<i&&(i=h),x<n&&(n=x),c<s&&(s=c),h>e&&(e=h),x>r&&(r=x),c>a&&(a=c)}return this.min.set(i,n,s),this.max.set(e,r,a),this},n.setFromBufferAttribute=function(t){for(var i=1/0,n=1/0,s=1/0,e=-1/0,r=-1/0,a=-1/0,m=0,o=t.count;m<o;m++){var h=t.getX(m),x=t.getY(m),c=t.getZ(m);h<i&&(i=h),x<n&&(n=x),c<s&&(s=c),h>e&&(e=h),x>r&&(r=x),c>a&&(a=c)}return this.min.set(i,n,s),this.max.set(e,r,a),this},n.setFromPoints=function(t){this.makeEmpty();for(var i=0,n=t.length;i<n;i++)this.expandByPoint(t[i]);return this},n.setFromCenterAndSize=function(t,i){var n=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},n.setFromObject=function(t,i){return void 0===i&&(i=!1),this.makeEmpty(),this.expandByObject(t,i)},n.clone=function(){return(new this.constructor).copy(this)},n.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},n.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},n.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},n.getCenter=function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},n.getSize=function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},n.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},n.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},n.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},n.expandByObject=function(t,i){void 0===i&&(i=!1),t.updateWorldMatrix(!1,!1);var n=t.geometry;if(void 0!==n)if(i&&null!=n.attributes&&void 0!==n.attributes.position)for(var s=n.attributes.position,a=0,m=s.count;a<m;a++)e.fromBufferAttribute(s,a).applyMatrix4(t.matrixWorld),this.expandByPoint(e);else null===n.boundingBox&&n.computeBoundingBox(),r.copy(n.boundingBox),r.applyMatrix4(t.matrixWorld),this.union(r);for(var o=t.children,h=0,x=o.length;h<x;h++)this.expandByObject(o[h],i);return this},n.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},n.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},n.getParameter=function(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},n.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},n.intersectsSphere=function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius},n.intersectsPlane=function(t){var i,n;return t.normal.x>0?(i=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),i<=-t.constant&&n>=-t.constant},n.intersectsTriangle=function(t){if(this.isEmpty())return!1;this.getCenter(u),y.subVectors(this.max,u),a.subVectors(t.a,u),m.subVectors(t.b,u),o.subVectors(t.c,u),h.subVectors(m,a),x.subVectors(o,m),c.subVectors(a,o);var i=[0,-h.z,h.y,0,-x.z,x.y,0,-c.z,c.y,h.z,0,-h.x,x.z,0,-x.x,c.z,0,-c.x,-h.y,h.x,0,-x.y,x.x,0,-c.y,c.x,0];return!!f(i,a,m,o,y)&&(!!f(i=[1,0,0,0,1,0,0,0,1],a,m,o,y)&&(p.crossVectors(h,x),f(i=[p.x,p.y,p.z],a,m,o,y)))},n.clampPoint=function(t,i){return i.copy(t).clamp(this.min,this.max)},n.distanceToPoint=function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()},n.getBoundingSphere=function(t){return this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t},n.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},n.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},n.applyMatrix4=function(t){return this.isEmpty()||(s[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),s[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),s[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),s[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),s[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),s[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),s[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),s[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(s)),this},n.translate=function(t){return this.min.add(t),this.max.add(t),this},n.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),s=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3],e=new i.Vector3,r=new n,a=new i.Vector3,m=new i.Vector3,o=new i.Vector3,h=new i.Vector3,x=new i.Vector3,c=new i.Vector3,u=new i.Vector3,y=new i.Vector3,p=new i.Vector3,l=new i.Vector3;function f(t,i,n,s,e){for(var r=0,a=t.length-3;r<=a;r+=3){l.fromArray(t,r);var m=e.x*Math.abs(l.x)+e.y*Math.abs(l.y)+e.z*Math.abs(l.z),o=i.dot(l),h=n.dot(l),x=s.dot(l);if(Math.max(-Math.max(o,h,x),Math.min(o,h,x))>m)return!1}return!0}t.Box3=n,Object.defineProperty(t,"__esModule",{value:!0})}));
