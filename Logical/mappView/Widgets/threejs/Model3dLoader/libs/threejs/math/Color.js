/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","./MathUtils","./ColorManagement","../constants"],(function(e,t,r,i,n){"use strict";var o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},s={r:0,g:0,b:0},a={h:0,s:0,l:0},h={h:0,s:0,l:0};function l(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function g(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var u=function(e){function u(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}var c=u.prototype;return c.set=function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},c.setScalar=function(e){return this.r=e,this.g=e,this.b=e,this},c.setHex=function(e,t){return void 0===t&&(t=n.SRGBColorSpace),e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,i.ColorManagement.toWorkingColorSpace(this,t),this},c.setRGB=function(e,t,r,o){return void 0===o&&(o=n.LinearSRGBColorSpace),this.r=e,this.g=t,this.b=r,i.ColorManagement.toWorkingColorSpace(this,o),this},c.setHSL=function(e,t,o,s){if(void 0===s&&(s=n.LinearSRGBColorSpace),e=r.euclideanModulo(e,1),t=r.clamp(t,0,1),o=r.clamp(o,0,1),0===t)this.r=this.g=this.b=o;else{var a=o<=.5?o*(1+t):o+t-o*t,h=2*o-a;this.r=l(h,a,e+1/3),this.g=l(h,a,e),this.b=l(h,a,e-1/3)}return i.ColorManagement.toWorkingColorSpace(this,s),this},c.setStyle=function(e,t){function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var o;if(void 0===t&&(t=n.SRGBColorSpace),o=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var s,a=o[1],h=o[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,i.ColorManagement.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,i.ColorManagement.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h)){var l=parseFloat(s[1])/360,g=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,g,u,t)}}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=o[1],d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,i.ColorManagement.toWorkingColorSpace(this,t),this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,i.ColorManagement.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this},c.setColorName=function(e,t){void 0===t&&(t=n.SRGBColorSpace);var r=o[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this},c.clone=function(){return new this.constructor(this.r,this.g,this.b)},c.copy=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},c.copySRGBToLinear=function(e){return this.r=i.SRGBToLinear(e.r),this.g=i.SRGBToLinear(e.g),this.b=i.SRGBToLinear(e.b),this},c.copyLinearToSRGB=function(e){return this.r=i.LinearToSRGB(e.r),this.g=i.LinearToSRGB(e.g),this.b=i.LinearToSRGB(e.b),this},c.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},c.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},c.getHex=function(e){return void 0===e&&(e=n.SRGBColorSpace),i.ColorManagement.fromWorkingColorSpace(g(this,s),e),r.clamp(255*s.r,0,255)<<16^r.clamp(255*s.g,0,255)<<8^r.clamp(255*s.b,0,255)<<0},c.getHexString=function(e){return void 0===e&&(e=n.SRGBColorSpace),("000000"+this.getHex(e).toString(16)).slice(-6)},c.getHSL=function(e,t){void 0===t&&(t=n.LinearSRGBColorSpace),i.ColorManagement.fromWorkingColorSpace(g(this,s),t);var r,o,a=s.r,h=s.g,l=s.b,u=Math.max(a,h,l),c=Math.min(a,h,l),d=(c+u)/2;if(c===u)r=0,o=0;else{var b=u-c;switch(o=d<=.5?b/(u+c):b/(2-u-c),u){case a:r=(h-l)/b+(h<l?6:0);break;case h:r=(l-a)/b+2;break;case l:r=(a-h)/b+4}r/=6}return e.h=r,e.s=o,e.l=d,e},c.getRGB=function(e,t){return void 0===t&&(t=n.LinearSRGBColorSpace),i.ColorManagement.fromWorkingColorSpace(g(this,s),t),e.r=s.r,e.g=s.g,e.b=s.b,e},c.getStyle=function(e){return void 0===e&&(e=n.SRGBColorSpace),i.ColorManagement.fromWorkingColorSpace(g(this,s),e),e!==n.SRGBColorSpace?"color("+e+" "+s.r+" "+s.g+" "+s.b+")":"rgb("+(255*s.r|0)+","+(255*s.g|0)+","+(255*s.b|0)+")"},c.offsetHSL=function(e,t,r){return this.getHSL(a),a.h+=e,a.s+=t,a.l+=r,this.setHSL(a.h,a.s,a.l),this},c.add=function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},c.addColors=function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},c.addScalar=function(e){return this.r+=e,this.g+=e,this.b+=e,this},c.sub=function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},c.multiply=function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},c.multiplyScalar=function(e){return this.r*=e,this.g*=e,this.b*=e,this},c.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},c.lerpColors=function(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this},c.lerpHSL=function(e,t){this.getHSL(a),e.getHSL(h);var i=r.lerp(a.h,h.h,t),n=r.lerp(a.s,h.s,t),o=r.lerp(a.l,h.l,t);return this.setHSL(i,n,o),this},c.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},c.fromArray=function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},c.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},c.fromBufferAttribute=function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},c.toJSON=function(){return this.getHex()},c[e]=t.regeneratorRuntime().mark((function e(){return t.regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)})),u}(Symbol.iterator);u.NAMES=o,e.SRGBToLinear=i.SRGBToLinear,e.Color=u,Object.defineProperty(e,"__esModule",{value:!0})}));
