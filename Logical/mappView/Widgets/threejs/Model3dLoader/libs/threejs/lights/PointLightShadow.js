/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","./LightShadow","../cameras/PerspectiveCamera","../math/Matrix4","../math/Vector2","../math/Vector3","../math/Vector4"],(function(e,t,r,o,i,n,c,a){"use strict";var s=new i.Matrix4,w=new c.Vector3,u=new c.Vector3,V=function(e){function r(){var t;return(t=e.call(this,new o.PerspectiveCamera(90,1,.5,500))||this).isPointLightShadow=!0,t._frameExtents=new n.Vector2(4,2),t._viewportCount=6,t._viewports=[new a.Vector4(2,1,1,1),new a.Vector4(0,1,1,1),new a.Vector4(3,1,1,1),new a.Vector4(1,1,1,1),new a.Vector4(3,0,1,1),new a.Vector4(1,0,1,1)],t._cubeDirections=[new c.Vector3(1,0,0),new c.Vector3(-1,0,0),new c.Vector3(0,0,1),new c.Vector3(0,0,-1),new c.Vector3(0,1,0),new c.Vector3(0,-1,0)],t._cubeUps=[new c.Vector3(0,1,0),new c.Vector3(0,1,0),new c.Vector3(0,1,0),new c.Vector3(0,1,0),new c.Vector3(0,0,1),new c.Vector3(0,0,-1)],t}return t.inheritsLoose(r,e),r.prototype.updateMatrices=function(e,t){void 0===t&&(t=0);var r=this.camera,o=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),w.setFromMatrixPosition(e.matrixWorld),r.position.copy(w),u.copy(r.position),u.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(u),r.updateMatrixWorld(),o.makeTranslation(-w.x,-w.y,-w.z),s.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)},r}(r.LightShadow);e.PointLightShadow=V,Object.defineProperty(e,"__esModule",{value:!0})}));
