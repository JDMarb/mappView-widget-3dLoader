/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../math/Vector4","../math/Vector3","../math/Vector2","../math/Color","../constants"],(function(t,r,i,e,n,s,a){"use strict";var o=new e.Vector3,u=new n.Vector2,h=function(){function t(t,r,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=!0===i,this.usage=a.StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}var h=t.prototype;return h.onUploadCallback=function(){},h.setUsage=function(t){return this.usage=t,this},h.copy=function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},h.copyAt=function(t,r,i){t*=this.itemSize,i*=r.itemSize;for(var e=0,n=this.itemSize;e<n;e++)this.array[t+e]=r.array[i+e];return this},h.copyArray=function(t){return this.array.set(t),this},h.copyColorsArray=function(t){for(var r=this.array,i=0,e=0,n=t.length;e<n;e++){var a=t[e];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),a=new s.Color),r[i++]=a.r,r[i++]=a.g,r[i++]=a.b}return this},h.copyVector2sArray=function(t){for(var r=this.array,i=0,e=0,s=t.length;e<s;e++){var a=t[e];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),a=new n.Vector2),r[i++]=a.x,r[i++]=a.y}return this},h.copyVector3sArray=function(t){for(var r=this.array,i=0,n=0,s=t.length;n<s;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new e.Vector3),r[i++]=a.x,r[i++]=a.y,r[i++]=a.z}return this},h.copyVector4sArray=function(t){for(var r=this.array,e=0,n=0,s=t.length;n<s;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new i.Vector4),r[e++]=a.x,r[e++]=a.y,r[e++]=a.z,r[e++]=a.w}return this},h.applyMatrix3=function(t){if(2===this.itemSize)for(var r=0,i=this.count;r<i;r++)u.fromBufferAttribute(this,r),u.applyMatrix3(t),this.setXY(r,u.x,u.y);else if(3===this.itemSize)for(var e=0,n=this.count;e<n;e++)o.fromBufferAttribute(this,e),o.applyMatrix3(t),this.setXYZ(e,o.x,o.y,o.z);return this},h.applyMatrix4=function(t){for(var r=0,i=this.count;r<i;r++)o.fromBufferAttribute(this,r),o.applyMatrix4(t),this.setXYZ(r,o.x,o.y,o.z);return this},h.applyNormalMatrix=function(t){for(var r=0,i=this.count;r<i;r++)o.fromBufferAttribute(this,r),o.applyNormalMatrix(t),this.setXYZ(r,o.x,o.y,o.z);return this},h.transformDirection=function(t){for(var r=0,i=this.count;r<i;r++)o.fromBufferAttribute(this,r),o.transformDirection(t),this.setXYZ(r,o.x,o.y,o.z);return this},h.set=function(t,r){return void 0===r&&(r=0),this.array.set(t,r),this},h.getX=function(t){return this.array[t*this.itemSize]},h.setX=function(t,r){return this.array[t*this.itemSize]=r,this},h.getY=function(t){return this.array[t*this.itemSize+1]},h.setY=function(t,r){return this.array[t*this.itemSize+1]=r,this},h.getZ=function(t){return this.array[t*this.itemSize+2]},h.setZ=function(t,r){return this.array[t*this.itemSize+2]=r,this},h.getW=function(t){return this.array[t*this.itemSize+3]},h.setW=function(t,r){return this.array[t*this.itemSize+3]=r,this},h.setXY=function(t,r,i){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=i,this},h.setXYZ=function(t,r,i,e){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=i,this.array[t+2]=e,this},h.setXYZW=function(t,r,i,e,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=i,this.array[t+2]=e,this.array[t+3]=n,this},h.onUpload=function(t){return this.onUploadCallback=t,this},h.clone=function(){return new this.constructor(this.array,this.itemSize).copy(this)},h.toJSON=function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==a.StaticDrawUsage&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t},r.createClass(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),t}(),f=function(t){function i(r,i,e){return t.call(this,new Int8Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),c=function(t){function i(r,i,e){return t.call(this,new Uint8Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),y=function(t){function i(r,i,e){return t.call(this,new Uint8ClampedArray(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),l=function(t){function i(r,i,e){return t.call(this,new Int16Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),m=function(t){function i(r,i,e){return t.call(this,new Uint16Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),A=function(t){function i(r,i,e){return t.call(this,new Int32Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),p=function(t){function i(r,i,e){return t.call(this,new Uint32Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),d=function(t){function i(r,i,e){var n;return(n=t.call(this,new Uint16Array(r),i,e)||this).isFloat16BufferAttribute=!0,n}return r.inheritsLoose(i,t),i}(h),z=function(t){function i(r,i,e){return t.call(this,new Float32Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h),v=function(t){function i(r,i,e){return t.call(this,new Float64Array(r),i,e)||this}return r.inheritsLoose(i,t),i}(h);t.BufferAttribute=h,t.Float16BufferAttribute=d,t.Float32BufferAttribute=z,t.Float64BufferAttribute=v,t.Int16BufferAttribute=l,t.Int32BufferAttribute=A,t.Int8BufferAttribute=f,t.Uint16BufferAttribute=m,t.Uint32BufferAttribute=p,t.Uint8BufferAttribute=c,t.Uint8ClampedBufferAttribute=y,Object.defineProperty(t,"__esModule",{value:!0})}));
