/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../math/MathUtils","../constants"],(function(r,t,e,a){"use strict";var i=function(){function r(r,t){this.isInterleavedBuffer=!0,this.array=r,this.stride=t,this.count=void 0!==r?r.length/t:0,this.usage=a.StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=e.generateUUID()}var i=r.prototype;return i.onUploadCallback=function(){},i.setUsage=function(r){return this.usage=r,this},i.copy=function(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this},i.copyAt=function(r,t,e){r*=this.stride,e*=t.stride;for(var a=0,i=this.stride;a<i;a++)this.array[r+a]=t.array[e+a];return this},i.set=function(r,t){return void 0===t&&(t=0),this.array.set(r,t),this},i.clone=function(r){void 0===r.arrayBuffers&&(r.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=e.generateUUID()),void 0===r.arrayBuffers[this.array.buffer._uuid]&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),a=new this.constructor(t,this.stride);return a.setUsage(this.usage),a},i.onUpload=function(r){return this.onUploadCallback=r,this},i.toJSON=function(r){return void 0===r.arrayBuffers&&(r.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=e.generateUUID()),void 0===r.arrayBuffers[this.array.buffer._uuid]&&(r.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}},t.createClass(r,[{key:"needsUpdate",set:function(r){!0===r&&this.version++}}]),r}();r.InterleavedBuffer=i,Object.defineProperty(r,"__esModule",{value:!0})}));
