/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","./DataTextureLoader","../constants","../textures/CubeTexture","../extras/DataUtils"],(function(e,r,t,a,n,i){"use strict";var f,o,s,l=function(e){function t(r){var t;return(t=e.call(this,r)||this).type=a.HalfFloatType,t.maxRange=7,t}r.inheritsLoose(t,e);var f=t.prototype;return f.setDataType=function(e){return this.type=e,this},f.setMaxRange=function(e){return this.maxRange=e,this},f.loadCubemap=function(e,r,t,i){var f=new n.CubeTexture,o=0,s=this;function l(t){s.load(e[t],(function(e){f.images[t]=e,6===++o&&(f.needsUpdate=!0,r&&r(f))}),void 0,i)}for(var d=0;d<e.length;++d)l(d);return f.type=this.type,f.format=a.RGBAFormat,f.minFilter=a.LinearFilter,f.generateMipmaps=!1,f},f.parse=function(e){for(var r=d.decode(e),t=d.toRGBA8(r)[0],n=new Uint8Array(t),f=r.width*r.height*4,o=this.type===a.HalfFloatType?new Uint16Array(f):new Float32Array(f),s=0;s<n.length;s+=4){var l=n[s+0]/255,c=n[s+1]/255,u=n[s+2]/255,h=n[s+3]/255;this.type===a.HalfFloatType?(o[s+0]=i.toHalfFloat(Math.min(l*h*this.maxRange,65504)),o[s+1]=i.toHalfFloat(Math.min(c*h*this.maxRange,65504)),o[s+2]=i.toHalfFloat(Math.min(u*h*this.maxRange,65504)),o[s+3]=i.toHalfFloat(1)):(o[s+0]=l*h*this.maxRange,o[s+1]=c*h*this.maxRange,o[s+2]=u*h*this.maxRange,o[s+3]=1)}return{width:r.width,height:r.height,data:o,format:a.RGBAFormat,type:this.type,flipY:!0}},t}(t.DataTextureLoader),d={};d.toRGBA8=function(e){var r=e.width,t=e.height;if(null==e.tabs.acTL)return[d.toRGBA8.decodeImage(e.data,r,t,e).buffer];var a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var n=r*t*4,i=new Uint8Array(n),f=new Uint8Array(n),o=new Uint8Array(n),s=0;s<e.frames.length;s++){var l=e.frames[s],c=l.rect.x,u=l.rect.y,h=l.rect.width,v=l.rect.height,p=d.toRGBA8.decodeImage(l.data,h,v,e);if(0!=s)for(var g=0;g<n;g++)o[g]=i[g];if(0==l.blend?d._copyTile(p,h,v,i,r,t,c,u,0):1==l.blend&&d._copyTile(p,h,v,i,r,t,c,u,1),a.push(i.buffer.slice(0)),1==l.dispose)d._copyTile(f,h,v,i,r,t,c,u,0);else if(2==l.dispose)for(g=0;g<n;g++)i[g]=o[g]}return a},d.toRGBA8.decodeImage=function(e,r,t,a){var n=r*t,i=d.decode._getBPP(a),f=Math.ceil(r*i/8),o=new Uint8Array(4*n),s=new Uint32Array(o.buffer),l=a.ctype,c=a.depth,u=d._bin.readUshort;if(6==l){var h=n<<2;if(8==c)for(var v=0;v<h;v+=4)o[v]=e[v],o[v+1]=e[v+1],o[v+2]=e[v+2],o[v+3]=e[v+3];if(16==c)for(v=0;v<h;v++)o[v]=e[v<<1]}else if(2==l){var p=a.tabs.tRNS;if(null==p){if(8==c)for(v=0;v<n;v++){var g=3*v;s[v]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==c)for(v=0;v<n;v++){g=6*v;s[v]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}}else{var b=p[0],w=p[1],y=p[2];if(8==c)for(v=0;v<n;v++){var m=v<<2;g=3*v;s[v]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==b&&e[g+1]==w&&e[g+2]==y&&(o[m+3]=0)}if(16==c)for(v=0;v<n;v++){m=v<<2,g=6*v;s[v]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],u(e,g)==b&&u(e,g+2)==w&&u(e,g+4)==y&&(o[m+3]=0)}}}else if(3==l){var _=a.tabs.PLTE,H=a.tabs.tRNS,A=H?H.length:0;if(1==c)for(var U=0;U<t;U++){var R=U*f,I=U*r;for(v=0;v<r;v++){m=I+v<<2;var T=3*(x=e[R+(v>>3)]>>7-((7&v)<<0)&1);o[m]=_[T],o[m+1]=_[T+1],o[m+2]=_[T+2],o[m+3]=x<A?H[x]:255}}if(2==c)for(U=0;U<t;U++)for(R=U*f,I=U*r,v=0;v<r;v++){m=I+v<<2,T=3*(x=e[R+(v>>2)]>>6-((3&v)<<1)&3);o[m]=_[T],o[m+1]=_[T+1],o[m+2]=_[T+2],o[m+3]=x<A?H[x]:255}if(4==c)for(U=0;U<t;U++)for(R=U*f,I=U*r,v=0;v<r;v++){m=I+v<<2,T=3*(x=e[R+(v>>1)]>>4-((1&v)<<2)&15);o[m]=_[T],o[m+1]=_[T+1],o[m+2]=_[T+2],o[m+3]=x<A?H[x]:255}if(8==c)for(v=0;v<n;v++){var x;m=v<<2,T=3*(x=e[v]);o[m]=_[T],o[m+1]=_[T+1],o[m+2]=_[T+2],o[m+3]=x<A?H[x]:255}}else if(4==l){if(8==c)for(v=0;v<n;v++){m=v<<2;var C=e[B=v<<1];o[m]=C,o[m+1]=C,o[m+2]=C,o[m+3]=e[B+1]}if(16==c)for(v=0;v<n;v++){var B;m=v<<2,C=e[B=v<<2];o[m]=C,o[m+1]=C,o[m+2]=C,o[m+3]=e[B+2]}}else if(0==l)for(b=a.tabs.tRNS?a.tabs.tRNS:-1,U=0;U<t;U++){var M=U*f,S=U*r;if(1==c)for(var F=0;F<r;F++){var P=(C=255*(e[M+(F>>>3)]>>>7-(7&F)&1))==255*b?0:255;s[S+F]=P<<24|C<<16|C<<8|C}else if(2==c)for(F=0;F<r;F++){P=(C=85*(e[M+(F>>>2)]>>>6-((3&F)<<1)&3))==85*b?0:255;s[S+F]=P<<24|C<<16|C<<8|C}else if(4==c)for(F=0;F<r;F++){P=(C=17*(e[M+(F>>>1)]>>>4-((1&F)<<2)&15))==17*b?0:255;s[S+F]=P<<24|C<<16|C<<8|C}else if(8==c)for(F=0;F<r;F++){P=(C=e[M+F])==b?0:255;s[S+F]=P<<24|C<<16|C<<8|C}else if(16==c)for(F=0;F<r;F++){C=e[M+(F<<1)],P=u(e,M+(F<<1))==b?0:255;s[S+F]=P<<24|C<<16|C<<8|C}}return o},d.decode=function(e){for(var r,t,a,n,i=new Uint8Array(e),f=8,o=d._bin,s=o.readUshort,l=o.readUint,c={tabs:{},frames:[]},u=new Uint8Array(i.length),h=0,v=0,p=[137,80,78,71,13,10,26,10],g=0;g<8;g++)if(i[g]!=p[g])throw new Error("The input is not a PNG file!");for(;f<i.length;){var b=o.readUint(i,f);f+=4;var w=o.readASCII(i,f,4);if(f+=4,"IHDR"==w)d.decode._IHDR(i,f,c);else if("CgBI"==w)c.tabs[w]=i.slice(f,f+4);else if("IDAT"==w){for(g=0;g<b;g++)u[h+g]=i[f+g];h+=b}else if("acTL"==w)c.tabs[w]={num_frames:l(i,f),num_plays:l(i,f+4)},r=new Uint8Array(i.length);else if("fcTL"==w){var y;if(0!=v)(y=c.frames[c.frames.length-1]).data=d.decode._decompress(c,r.slice(0,v),y.rect.width,y.rect.height),v=0;var m={x:l(i,f+12),y:l(i,f+16),width:l(i,f+4),height:l(i,f+8)},_=s(i,f+22);_=s(i,f+20)/(0==_?100:_);var H={rect:m,delay:Math.round(1e3*_),dispose:i[f+24],blend:i[f+25]};c.frames.push(H)}else if("fdAT"==w){for(g=0;g<b-4;g++)r[v+g]=i[f+g+4];v+=b-4}else if("pHYs"==w)c.tabs[w]=[o.readUint(i,f),o.readUint(i,f+4),i[f+8]];else if("cHRM"==w){c.tabs[w]=[];for(g=0;g<8;g++)c.tabs[w].push(o.readUint(i,f+4*g))}else if("tEXt"==w||"zTXt"==w){null==c.tabs[w]&&(c.tabs[w]={});var A=o.nextZero(i,f);a=o.readASCII(i,f,A-f);var U=f+b-A-1;"tEXt"==w?t=o.readASCII(i,A+1,U):(n=d.decode._inflate(i.slice(A+2,A+2+U)),t=o.readUTF8(n,0,n.length)),c.tabs[w][a]=t}else if("iTXt"==w){null==c.tabs[w]&&(c.tabs[w]={});A=0;var R=f;A=o.nextZero(i,R),a=o.readASCII(i,R,A-R);var I=i[R=A+1];R+=2,A=o.nextZero(i,R),o.readASCII(i,R,A-R),R=A+1,A=o.nextZero(i,R),o.readUTF8(i,R,A-R);U=b-((R=A+1)-f);0==I?t=o.readUTF8(i,R,U):(n=d.decode._inflate(i.slice(R,R+U)),t=o.readUTF8(n,0,n.length)),c.tabs[w][a]=t}else if("PLTE"==w)c.tabs[w]=o.readBytes(i,f,b);else if("hIST"==w){var T=c.tabs.PLTE.length/3;c.tabs[w]=[];for(g=0;g<T;g++)c.tabs[w].push(s(i,f+2*g))}else if("tRNS"==w)3==c.ctype?c.tabs[w]=o.readBytes(i,f,b):0==c.ctype?c.tabs[w]=s(i,f):2==c.ctype&&(c.tabs[w]=[s(i,f),s(i,f+2),s(i,f+4)]);else if("gAMA"==w)c.tabs[w]=o.readUint(i,f)/1e5;else if("sRGB"==w)c.tabs[w]=i[f];else if("bKGD"==w)0==c.ctype||4==c.ctype?c.tabs[w]=[s(i,f)]:2==c.ctype||6==c.ctype?c.tabs[w]=[s(i,f),s(i,f+2),s(i,f+4)]:3==c.ctype&&(c.tabs[w]=i[f]);else if("IEND"==w)break;f+=b,o.readUint(i,f),f+=4}0!=v&&((y=c.frames[c.frames.length-1]).data=d.decode._decompress(c,r.slice(0,v),y.rect.width,y.rect.height));return c.data=d.decode._decompress(c,u,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},d.decode._decompress=function(e,r,t,a){var n=d.decode._getBPP(e),i=Math.ceil(t*n/8),f=new Uint8Array((i+1+e.interlace)*a);return r=e.tabs.CgBI?d.inflateRaw(r,f):d.decode._inflate(r,f),0==e.interlace?r=d.decode._filterZero(r,e,0,t,a):1==e.interlace&&(r=d.decode._readInterlace(r,e)),r},d.decode._inflate=function(e,r){return d.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),r)},d.inflateRaw=((s={}).H={},s.H.N=function(e,r){var t,a,n=Uint8Array,i=0,f=0,o=0,l=0,d=0,c=0,u=0,h=0,v=0;if(3==e[0]&&0==e[1])return r||new n(0);var p=s.H,g=p.b,b=p.e,w=p.R,y=p.n,m=p.A,_=p.Z,H=p.m,A=null==r;for(A&&(r=new n(e.length>>>2<<5));0==i;)if(i=g(e,v,1),f=g(e,v+1,2),v+=3,0!=f){if(A&&(r=s.H.W(r,h+(1<<17))),1==f&&(t=H.J,a=H.h,c=511,u=31),2==f){o=b(e,v,5)+257,l=b(e,v+5,5)+1,d=b(e,v+10,4)+4,v+=14;for(var U=1,R=0;R<38;R+=2)H.Q[R]=0,H.Q[R+1]=0;for(R=0;R<d;R++){var I=b(e,v+3*R,3);H.Q[1+(H.X[R]<<1)]=I,I>U&&(U=I)}v+=3*d,y(H.Q,U),m(H.Q,U,H.u),t=H.w,a=H.d,v=w(H.u,(1<<U)-1,o+l,e,v,H.v);var T=p.V(H.v,0,o,H.C);c=(1<<T)-1;var x=p.V(H.v,o,l,H.D);u=(1<<x)-1,y(H.C,T),m(H.C,T,t),y(H.D,x),m(H.D,x,a)}for(;;){var C=t[_(e,v)&c];v+=15&C;var B=C>>>4;if(B>>>8==0)r[h++]=B;else{if(256==B)break;var M=h+B-254;if(B>264){var S=H.q[B-257];M=h+(S>>>3)+b(e,v,7&S),v+=7&S}var F=a[_(e,v)&u];v+=15&F;var P=F>>>4,D=H.c[P],G=(D>>>4)+g(e,v,15&D);for(v+=15&D;h<M;)r[h]=r[h++-G],r[h]=r[h++-G],r[h]=r[h++-G],r[h]=r[h++-G];h=M}}}else{0!=(7&v)&&(v+=8-(7&v));var L=4+(v>>>3),Z=e[L-4]|e[L-3]<<8;A&&(r=s.H.W(r,h+Z)),r.set(new n(e.buffer,e.byteOffset+L,Z),h),v=L+Z<<3,h+=Z}return r.length==h?r:r.slice(0,h)},s.H.W=function(e,r){var t=e.length;if(r<=t)return e;var a=new Uint8Array(t<<1);return a.set(e,0),a},s.H.R=function(e,r,t,a,n,i){for(var f=s.H.e,o=s.H.Z,l=0;l<t;){var d=e[o(a,n)&r];n+=15&d;var c=d>>>4;if(c<=15)i[l]=c,l++;else{var u=0,h=0;16==c?(h=3+f(a,n,2),n+=2,u=i[l-1]):17==c?(h=3+f(a,n,3),n+=3):18==c&&(h=11+f(a,n,7),n+=7);for(var v=l+h;l<v;)i[l]=u,l++}}return n},s.H.V=function(e,r,t,a){for(var n=0,i=0,f=a.length>>>1;i<t;){var o=e[i+r];a[i<<1]=0,a[1+(i<<1)]=o,o>n&&(n=o),i++}for(;i<f;)a[i<<1]=0,a[1+(i<<1)]=0,i++;return n},s.H.n=function(e,r){for(var t,a,n,i,f=s.H.m,o=e.length,l=f.j,d=0;d<=r;d++)l[d]=0;for(d=1;d<o;d+=2)l[e[d]]++;var c=f.K;for(t=0,l[0]=0,a=1;a<=r;a++)t=t+l[a-1]<<1,c[a]=t;for(n=0;n<o;n+=2)0!=(i=e[n+1])&&(e[n]=c[i],c[i]++)},s.H.A=function(e,r,t){for(var a=e.length,n=s.H.m.r,i=0;i<a;i+=2)if(0!=e[i+1])for(var f=i>>1,o=e[i+1],l=f<<4|o,d=r-o,c=e[i]<<d,u=c+(1<<d);c!=u;)t[n[c]>>>15-r]=l,c++},s.H.l=function(e,r){for(var t=s.H.m.r,a=15-r,n=0;n<e.length;n+=2){var i=e[n]<<r-e[n+1];e[n]=t[i]>>>a}},s.H.M=function(e,r,t){t<<=7&r;var a=r>>>3;e[a]|=t,e[a+1]|=t>>>8},s.H.I=function(e,r,t){t<<=7&r;var a=r>>>3;e[a]|=t,e[a+1]|=t>>>8,e[a+2]|=t>>>16},s.H.e=function(e,r,t){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<t)-1},s.H.b=function(e,r,t){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<t)-1},s.H.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},s.H.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},s.H.m=(f=Uint16Array,o=Uint32Array,{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new f(65536),g:new f(32768)}),function(){for(var e=s.H.m,r=0;r<32768;r++){var t=r;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,e.r[r]=(t>>>16|t<<16)>>>17}function a(e,r,t){for(;0!=r--;)e.push(0,t)}for(r=0;r<32;r++)e.q[r]=e.S[r]<<3|e.T[r],e.c[r]=e.p[r]<<4|e.z[r];a(e._,144,8),a(e._,112,9),a(e._,24,7),a(e._,8,8),s.H.n(e._,9),s.H.A(e._,9,e.J),s.H.l(e._,9),a(e.$,32,5),s.H.n(e.$,5),s.H.A(e.$,5,e.h),s.H.l(e.$,5),a(e.Q,19,0),a(e.C,286,0),a(e.D,30,0),a(e.v,320,0)}(),s.H.N),d.decode._readInterlace=function(e,r){for(var t=r.width,a=r.height,n=d.decode._getBPP(r),i=n>>3,f=Math.ceil(t*n/8),o=new Uint8Array(a*f),s=0,l=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],v=0;v<7;){for(var p=u[v],g=h[v],b=0,w=0,y=l[v];y<a;)y+=p,w++;for(var m=c[v];m<t;)m+=g,b++;var _=Math.ceil(b*n/8);d.decode._filterZero(e,r,s,b,w);for(var H,A=0,U=l[v];U<a;){for(var R=c[v],I=s+A*_<<3;R<t;){if(1==n&&(H=(H=e[I>>3])>>7-(7&I)&1,o[U*f+(R>>3)]|=H<<7-((7&R)<<0)),2==n&&(H=(H=e[I>>3])>>6-(7&I)&3,o[U*f+(R>>2)]|=H<<6-((3&R)<<1)),4==n&&(H=(H=e[I>>3])>>4-(7&I)&15,o[U*f+(R>>1)]|=H<<4-((1&R)<<2)),n>=8)for(var T=U*f+R*i,x=0;x<i;x++)o[T+x]=e[(I>>3)+x];I+=n,R+=g}A++,U+=p}b*w!=0&&(s+=w*(1+_)),v+=1}return o},d.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},d.decode._filterZero=function(e,r,t,a,n){var i=d.decode._getBPP(r),f=Math.ceil(a*i/8),o=d.decode._paeth;i=Math.ceil(i/8);var s,l,c=e[t],u=0;if(c>1&&(e[t]=[0,0,1][c-2]),3==c)for(u=i;u<f;u++)e[u+1]=e[u+1]+(e[u+1-i]>>>1)&255;for(var h=0;h<n;h++)if(u=0,0==(c=e[(l=(s=t+h*f)+h+1)-1]))for(;u<f;u++)e[s+u]=e[l+u];else if(1==c){for(;u<i;u++)e[s+u]=e[l+u];for(;u<f;u++)e[s+u]=e[l+u]+e[s+u-i]}else if(2==c)for(;u<f;u++)e[s+u]=e[l+u]+e[s+u-f];else if(3==c){for(;u<i;u++)e[s+u]=e[l+u]+(e[s+u-f]>>>1);for(;u<f;u++)e[s+u]=e[l+u]+(e[s+u-f]+e[s+u-i]>>>1)}else{for(;u<i;u++)e[s+u]=e[l+u]+o(0,e[s+u-f],0);for(;u<f;u++)e[s+u]=e[l+u]+o(e[s+u-i],e[s+u-f],e[s+u-i-f])}return e},d.decode._paeth=function(e,r,t){var a=e+r-t,n=a-e,i=a-r,f=a-t;return n*n<=i*i&&n*n<=f*f?e:i*i<=f*f?r:t},d.decode._IHDR=function(e,r,t){var a=d._bin;t.width=a.readUint(e,r),r+=4,t.height=a.readUint(e,r),r+=4,t.depth=e[r],r++,t.ctype=e[r],r++,t.compress=e[r],r++,t.filter=e[r],r++,t.interlace=e[r],r++},d._bin={nextZero:function(e,r){for(;0!=e[r];)r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},writeUshort:function(e,r,t){e[r]=t>>8&255,e[r+1]=255&t},readUint:function(e,r){return 16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3])},writeUint:function(e,r,t){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t},readASCII:function(e,r,t){for(var a="",n=0;n<t;n++)a+=String.fromCharCode(e[r+n]);return a},writeASCII:function(e,r,t){for(var a=0;a<t.length;a++)e[r+a]=t.charCodeAt(a)},readBytes:function(e,r,t){for(var a=[],n=0;n<t;n++)a.push(e[r+n]);return a},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,t){for(var a,n="",i=0;i<t;i++)n+="%"+d._bin.pad(e[r+i].toString(16));try{a=decodeURIComponent(n)}catch(a){return d._bin.readASCII(e,r,t)}return a}},d._copyTile=function(e,r,t,a,n,i,f,o,s){for(var l=Math.min(r,n),d=Math.min(t,i),c=0,u=0,h=0;h<d;h++)for(var v=0;v<l;v++)if(f>=0&&o>=0?(c=h*r+v<<2,u=(o+h)*n+f+v<<2):(c=(-o+h)*r-f+v<<2,u=h*n+v<<2),0==s)a[u]=e[c],a[u+1]=e[c+1],a[u+2]=e[c+2],a[u+3]=e[c+3];else if(1==s){var p=e[c+3]*(1/255),g=e[c]*p,b=e[c+1]*p,w=e[c+2]*p,y=a[u+3]*(1/255),m=a[u]*y,_=a[u+1]*y,H=a[u+2]*y,A=1-p,U=p+y*A,R=0==U?0:1/U;a[u+3]=255*U,a[u+0]=(g+m*A)*R,a[u+1]=(b+_*A)*R,a[u+2]=(w+H*A)*R}else if(2==s){p=e[c+3],g=e[c],b=e[c+1],w=e[c+2],y=a[u+3],m=a[u],_=a[u+1],H=a[u+2];p==y&&g==m&&b==_&&w==H?(a[u]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0):(a[u]=g,a[u+1]=b,a[u+2]=w,a[u+3]=p)}else if(3==s){p=e[c+3],g=e[c],b=e[c+1],w=e[c+2],y=a[u+3],m=a[u],_=a[u+1],H=a[u+2];if(p==y&&g==m&&b==_&&w==H)continue;if(p<220&&y>20)return!1}return!0},e.RGBMLoader=l,Object.defineProperty(e,"__esModule",{value:!0})}));
