/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../core/BufferGeometry","../core/BufferAttribute","../math/Vector3","../math/Vector2"],(function(t,e,r,o,a,i){"use strict";var u=function(t){function r(r,u,n,s,h,f,d,p){var v;void 0===r&&(r=1),void 0===u&&(u=1),void 0===n&&(n=1),void 0===s&&(s=8),void 0===h&&(h=1),void 0===f&&(f=!1),void 0===d&&(d=0),void 0===p&&(p=2*Math.PI),(v=t.call(this)||this).type="CylinderGeometry",v.parameters={radiusTop:r,radiusBottom:u,height:n,radialSegments:s,heightSegments:h,openEnded:f,thetaStart:d,thetaLength:p};var l=e.assertThisInitialized(v);s=Math.floor(s),h=Math.floor(h);var c=[],m=[],y=[],g=[],B=0,b=[],x=n/2,w=0;function M(t){for(var e=B,o=new i.Vector2,n=new a.Vector3,h=0,f=!0===t?r:u,v=!0===t?1:-1,b=1;b<=s;b++)m.push(0,x*v,0),y.push(0,v,0),g.push(.5,.5),B++;for(var M=B,z=0;z<=s;z++){var A=z/s*p+d,G=Math.cos(A),S=Math.sin(A);n.x=f*S,n.y=x*v,n.z=f*G,m.push(n.x,n.y,n.z),y.push(0,v,0),o.x=.5*G+.5,o.y=.5*S*v+.5,g.push(o.x,o.y),B++}for(var V=0;V<s;V++){var _=e+V,C=M+V;!0===t?c.push(C,C+1,_):c.push(C+1,C,_),h+=3}l.addGroup(w,h,!0===t?1:2),w+=h}return function(){for(var t=new a.Vector3,e=new a.Vector3,o=0,i=(u-r)/n,f=0;f<=h;f++){for(var v=[],M=f/h,z=M*(u-r)+r,A=0;A<=s;A++){var G=A/s,S=G*p+d,V=Math.sin(S),_=Math.cos(S);e.x=z*V,e.y=-M*n+x,e.z=z*_,m.push(e.x,e.y,e.z),t.set(V,i,_).normalize(),y.push(t.x,t.y,t.z),g.push(G,1-M),v.push(B++)}b.push(v)}for(var C=0;C<s;C++)for(var F=0;F<h;F++){var I=b[F][C],L=b[F+1][C],P=b[F+1][C+1],T=b[F][C+1];c.push(I,L,T),c.push(L,P,T),o+=6}l.addGroup(w,o,0),w+=o}(),!1===f&&(r>0&&M(!0),u>0&&M(!1)),v.setIndex(c),v.setAttribute("position",new o.Float32BufferAttribute(m,3)),v.setAttribute("normal",new o.Float32BufferAttribute(y,3)),v.setAttribute("uv",new o.Float32BufferAttribute(g,2)),v}return e.inheritsLoose(r,t),r.fromJSON=function(t){return new r(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)},r}(r.BufferGeometry);t.CylinderBufferGeometry=u,t.CylinderGeometry=u,Object.defineProperty(t,"__esModule",{value:!0})}));
