/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../core/BufferGeometry","../core/BufferAttribute","../math/Vector3","../math/Vector2"],(function(e,t,r,o,n,a){"use strict";var i=function(e){function r(t,r,i,c){var u;void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i=1),void 0===c&&(c=0),(u=e.call(this)||this).type="PolyhedronGeometry",u.parameters={vertices:t,indices:r,radius:i,detail:c};var f=[],l=[];function s(e,t,r,o){for(var n=o+1,a=[],i=0;i<=n;i++){a[i]=[];for(var c=e.clone().lerp(r,i/n),u=t.clone().lerp(r,i/n),f=n-i,l=0;l<=f;l++)a[i][l]=0===l&&i===n?c:c.clone().lerp(u,l/f)}for(var s=0;s<n;s++)for(var h=0;h<2*(n-s)-1;h++){var d=Math.floor(h/2);h%2==0?(v(a[s][d+1]),v(a[s+1][d]),v(a[s][d])):(v(a[s][d+1]),v(a[s+1][d+1]),v(a[s+1][d]))}}function v(e){f.push(e.x,e.y,e.z)}function h(e,r){var o=3*e;r.x=t[o+0],r.y=t[o+1],r.z=t[o+2]}function d(e,t,r,o){o<0&&1===e.x&&(l[t]=e.x-1),0===r.x&&0===r.z&&(l[t]=o/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new n.Vector3,o=new n.Vector3,a=new n.Vector3,i=0;i<r.length;i+=3)h(r[i+0],t),h(r[i+1],o),h(r[i+2],a),s(t,o,a,e)}(c),function(e){for(var t=new n.Vector3,r=0;r<f.length;r+=3)t.x=f[r+0],t.y=f[r+1],t.z=f[r+2],t.normalize().multiplyScalar(e),f[r+0]=t.x,f[r+1]=t.y,f[r+2]=t.z}(i),function(){for(var e=new n.Vector3,t=0;t<f.length;t+=3){e.x=f[t+0],e.y=f[t+1],e.z=f[t+2];var r=m(e)/2/Math.PI+.5,o=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);l.push(r,1-o)}var i;(function(){for(var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3,o=new n.Vector3,i=new a.Vector2,c=new a.Vector2,u=new a.Vector2,s=0,v=0;s<f.length;s+=9,v+=6){e.set(f[s+0],f[s+1],f[s+2]),t.set(f[s+3],f[s+4],f[s+5]),r.set(f[s+6],f[s+7],f[s+8]),i.set(l[v+0],l[v+1]),c.set(l[v+2],l[v+3]),u.set(l[v+4],l[v+5]),o.copy(e).add(t).add(r).divideScalar(3);var h=m(o);d(i,v+0,e,h),d(c,v+2,t,h),d(u,v+4,r,h)}})(),function(){for(var e=0;e<l.length;e+=6){var t=l[e+0],r=l[e+2],o=l[e+4],n=Math.max(t,r,o),a=Math.min(t,r,o);n>.9&&a<.1&&(t<.2&&(l[e+0]+=1),r<.2&&(l[e+2]+=1),o<.2&&(l[e+4]+=1))}}()}(),u.setAttribute("position",new o.Float32BufferAttribute(f,3)),u.setAttribute("normal",new o.Float32BufferAttribute(f.slice(),3)),u.setAttribute("uv",new o.Float32BufferAttribute(l,2)),0===c?u.computeVertexNormals():u.normalizeNormals(),u}return t.inheritsLoose(r,e),r.fromJSON=function(e){return new r(e.vertices,e.indices,e.radius,e.details)},r}(r.BufferGeometry);e.PolyhedronBufferGeometry=i,e.PolyhedronGeometry=i,Object.defineProperty(e,"__esModule",{value:!0})}));
