/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../core/BufferAttribute","../core/BufferGeometry","../math/Vector3","../math/Vector2","../math/MathUtils"],(function(e,t,r,o,n,a,h){"use strict";var i=function(e){function o(t,o,i,u){var s;void 0===t&&(t=[new a.Vector2(0,.5),new a.Vector2(.5,0),new a.Vector2(0,-.5)]),void 0===o&&(o=12),void 0===i&&(i=0),void 0===u&&(u=2*Math.PI),(s=e.call(this)||this).type="LatheGeometry",s.parameters={points:t,segments:o,phiStart:i,phiLength:u},o=Math.floor(o),u=h.clamp(u,0,2*Math.PI);for(var f=[],l=[],c=[],y=[],p=[],x=1/o,m=new n.Vector3,v=new a.Vector2,g=new n.Vector3,w=new n.Vector3,b=new n.Vector3,z=0,V=0,d=0;d<=t.length-1;d++)switch(d){case 0:z=t[d+1].x-t[d].x,V=t[d+1].y-t[d].y,g.x=1*V,g.y=-z,g.z=0*V,b.copy(g),g.normalize(),y.push(g.x,g.y,g.z);break;case t.length-1:y.push(b.x,b.y,b.z);break;default:z=t[d+1].x-t[d].x,V=t[d+1].y-t[d].y,g.x=1*V,g.y=-z,g.z=0*V,w.copy(g),g.x+=b.x,g.y+=b.y,g.z+=b.z,g.normalize(),y.push(g.x,g.y,g.z),b.copy(w)}for(var B=0;B<=o;B++)for(var A=i+B*x*u,M=Math.sin(A),L=Math.cos(A),G=0;G<=t.length-1;G++){m.x=t[G].x*M,m.y=t[G].y,m.z=t[G].x*L,l.push(m.x,m.y,m.z),v.x=B/o,v.y=G/(t.length-1),c.push(v.x,v.y);var P=y[3*G+0]*M,_=y[3*G+1],F=y[3*G+0]*L;p.push(P,_,F)}for(var I=0;I<o;I++)for(var S=0;S<t.length-1;S++){var k=S+I*t.length,O=k,j=k+t.length,H=k+t.length+1,J=k+1;f.push(O,j,J),f.push(H,J,j)}return s.setIndex(f),s.setAttribute("position",new r.Float32BufferAttribute(l,3)),s.setAttribute("uv",new r.Float32BufferAttribute(c,2)),s.setAttribute("normal",new r.Float32BufferAttribute(p,3)),s}return t.inheritsLoose(o,e),o.fromJSON=function(e){return new o(e.points,e.segments,e.phiStart,e.phiLength)},o}(o.BufferGeometry);e.LatheBufferGeometry=i,e.LatheGeometry=i,Object.defineProperty(e,"__esModule",{value:!0})}));
