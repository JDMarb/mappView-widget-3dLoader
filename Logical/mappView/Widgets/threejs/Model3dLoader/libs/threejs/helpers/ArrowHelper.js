/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
define(["exports","../_virtual/_rollupPluginBabelHelpers","../core/BufferAttribute","../core/BufferGeometry","../core/Object3D","../geometries/CylinderGeometry","../materials/MeshBasicMaterial","../materials/LineBasicMaterial","../objects/Mesh","../objects/Line","../math/Vector3"],(function(e,t,i,o,n,r,s,a,c,l,u){"use strict";var p,h,d=new u.Vector3,f=function(e){function n(t,n,d,f,y,m){var v;return void 0===t&&(t=new u.Vector3(0,0,1)),void 0===n&&(n=new u.Vector3(0,0,0)),void 0===d&&(d=1),void 0===f&&(f=16776960),void 0===y&&(y=.2*d),void 0===m&&(m=.2*y),(v=e.call(this)||this).type="ArrowHelper",void 0===p&&((p=new o.BufferGeometry).setAttribute("position",new i.Float32BufferAttribute([0,0,0,0,1,0],3)),(h=new r.CylinderGeometry(0,.5,1,5,1)).translate(0,-.5,0)),v.position.copy(n),v.line=new l.Line(p,new a.LineBasicMaterial({color:f,toneMapped:!1})),v.line.matrixAutoUpdate=!1,v.add(v.line),v.cone=new c.Mesh(h,new s.MeshBasicMaterial({color:f,toneMapped:!1})),v.cone.matrixAutoUpdate=!1,v.add(v.cone),v.setDirection(t),v.setLength(d,y,m),v}t.inheritsLoose(n,e);var f=n.prototype;return f.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{d.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(d,t)}},f.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},f.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},f.copy=function(t){return e.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},n}(n.Object3D);e.ArrowHelper=f,Object.defineProperty(e,"__esModule",{value:!0})}));
